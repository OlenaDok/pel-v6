<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <title>bill-06</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name=”format-detection” content=”telephone=no”>
    <meta name=”format-detection” content=”date=no”>
    <meta name=”format-detection” content=”address=no”>
    
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/bill-header.css">
    <link rel="stylesheet" href="css/payment.css">
    <link rel="stylesheet" href="css/usage.css">
    <link rel="stylesheet" href="css/add-act.css">
    <link rel="stylesheet" href="css/total.css">

    <script src="js/vendor/angular.min.js"></script>

</head>
<body ng-app="myBill">
<section id="msgbox" class="msgbox-wrpD">
    <msgdiv class="msgbox-popup">
        <msgbox class="msgbox-popup-content"></msgbox>
    </msgdiv>
</section>

<article class="wraper" ng-controller="SubsDetails">
    <header class="hdr-cont">
        <section class="hdr-row">
            שלום, <strong>garmash garmash</strong> להלן חשבונית של יולי - אוגוסט 2019 שמספרה 123431231
        </section>
    </header>

    <section class="cust-det">
        <div class="mbl-collaps-button lbl-toggle">
            <input id="collapsible" class="toggle" type="checkbox" onchange="displayData()">
            <label for="collapsible" class="lbl-toggle-txt">פרטי הלקוח</label>
            <label for="collapsible" id="lbl-toggle-arr" class="lbl-toggle-arr">&#10095;</label>
        </div>
        <section class="wrap-cust-det">
            <div class="wrap-hdr">
                <article class="cust-det-hdr">
                    <p class="txt-prv"> פרטי הלקוח</p>
                </article>
            </div>

            <article id="cust-det-data" class="cust-det-data ">
                <div class="cust-det-ttl">
                    <div class="cust-det-col col-3-1">
                        <div class="cust-det-row">
                            <div class="cust-det-cell  col-sml">
                                מספר לקוח
                            </div>
                            <div class="cust-det-cell col-lrg bld">
                                123456789
                            </div>
                        </div>
                        <div class="cust-det-row">
                            <div class="cust-det-cell  col-sml">
                                ת''ז / עסק מורשה
                            </div>
                            <div class="cust-det-cell col-lrg bld">
                                987654321
                            </div>
                        </div>
                    </div>
                    <div class="cust-det-col col-3-1">
                        <div class="cust-det-row">
                            <div class="cust-det-cell col-sml">
                                הפקת החשבונית
                            </div>
                            <div class="cust-det-cell col-lrg bld">
                                14/06/2020
                            </div>
                        </div>
                        <div class="cust-det-row">
                            <div class="cust-det-cell col-sml">
                                אופן משלוח
                            </div>
                            <div class="cust-det-cell col-lrg bld">
                                147258
                            </div>
                        </div>
                    </div>
                    <div class="cust-det-col col-3-2">
                        <div class="cust-det-row">
                            <div class="cust-det-cell col-sml">
                                כתובת דוא''ל
                            </div>
                            <div class="cust-det-cell col-lrg bld">
                                example@example.com
                            </div>
                        </div>
                        <div class="cust-det-row">
                            <div class="cust-det-cell col-sml">
                                יחויב באמצעות
                            </div>
                            <div class="cust-det-cell col-lrg bld">
                                כרטיס אשראי מסטר קרד
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        </section>
    </section>

    <section class="bll-hdr" >
        <div class="bll-det-hdr">
            <span class="bill-txt-prv ">פרטי החשבונית</span>
        </div>
        <section class="bll-row">

            <div class="bill-data-row">
                <div class="bll-period">
                    <div class="bll-period-data">
                        <span class="lbl-hdr-cll ">תקופת החשבונית</span>
                        <span class="bll-prd-cell bld">21.5.2019 - 22.4.2019</span>
                    </div>
                </div>
                <div class="lbl-hdr" >
                    <span class="lbl-hdr-cll">הצג חשבון לפי</span>
                    <select class="bll-prd-select"
                            ng-init="start()"
                            id="myBtn"
                            name="bills" ng-options="bill.subsciber for bill in billlist"
                            ng-model="billselected"
                            ng-change="getdetails(billselected.index)"
                            >
                    </select>
                </div>
                <section class="ttl-col ">
                    <div class="ttl-cell">
                        <div class="ttl-grp">
                            <div class="lbl-hdr-s bld">סה''כ כולל מע''מ</div>
                            <div class="ttl-cell bll-prd-ttl"> {{ billselected.total }} &#8362;</div>

                        </div>
                        <div class="ttl-cell-line">
                            <div class="line"></div>
                        </div>
                    </div>

                </section>
            </div>

        </section>
    </section>

<section class="main-content-nav visibledevice" id="divnav">
    <nav class="cell-nav active" onclick="getData('pay')" id="pay"> פירוט חיובים</nav>
    <nav class="cell-nav" onclick="getData('use')" id="use">פירוט השימוש</nav>
    <nav class="cell-nav" onclick="getData('act')" id="act">פעולות נוספות</nav>
</section>

    <section class="main-content " >
        <section class="usage visibledevice" id="usage">
            <div class="use-txt hdr-c visibledesktop "> פירוט השימוש </div>
            <div class="usage_btns">
                <div id="usein" class="use-btn btn-in slt-btn"  ng-on-click="showIn('in')">                    בארץ
                </div>
                <div id="useout" class="use-btn btn-out"  ng-on-click="showIn('out')">
                    בחו''ל
                </div>
            </div>
            <div class="cntr " ng-init="useFilter='in'">
                <div ng-if="billselected.index==0" class="fld-usage">
                    <div  ng-repeat="useditem in billselected.service_usageALL | filter:useFilter" class="usg-data">
                        <div class="usage_row_ttl">
                            <div class="chart-ttl">מנוי {{ useditem.sub }}  </div>
                        </div>
                        <div ng-if="useditem.used[0].procentGB!=''" class="usage_row">
                            <label class="usage_data">{{ useditem.used[0].GB }}</label>
                            <div class="lineChart" id="first1" data-value="{{ useditem.used[0].procentGB }}" data-text="#0B69BA"></div>
                            <label class="usage_data_val">{{ useditem.used[0].procentGB }} %</label>
                        </div>
                        <div ng-if="useditem.used[0].procentMin!=''" class="usage_row">
                            <label class="usage_data">{{ useditem.used[0].Min }}</label>
                            <div class="lineChart" id="first2" data-value="{{ useditem.used[0].procentMin }}" data-text="#E1248E"></div>
                            <label class="usage_data_val">{{ useditem.used[0].procentMin }} %</label>
                        </div>
                        <div ng-if="useditem.used[0].procentSms!=''"  class="usage_row">
                            <label class="usage_data">{{ useditem.used[0].SMS }}</label>
                            <div class="lineChart" id="first3" data-value="{{ useditem.used[0].procentSms }}" data-text="#0B69BA"></div>
                            <label class="usage_data_val">{{ useditem.used[0].procentSms }} %</label>
                        </div>
                    </div>
                </div>
                <div ng-if="billselected.index!=0" >
                    <div  ng-repeat="useditem in billselected.service_usage | filter:useFilter">
                        <div ng-if="useditem.used[0].procentGB!=''">
                            <div class="chart-ttl">כמה צרכת מהחבילה שלך?</div>
                            <div class="usage_row">
                                <div class="donut" data-value="{{ useditem.used[0].procentGB }}" data-text="#0B69BA" data-pct="{{useditem.used[0].GB}}"></div>
                            </div>
                        </div>
                        <div ng-if="useditem.used[0].procentMin!=''">
                        <div class="chart-ttl">כמה צרכת דקות שיחה?</div>
                        <div class="usage_row">
                            <div class="donut" data-value="{{ useditem.used[0].procentMin }}" data-text="#E1248E" data-pct="{{useditem.used[0].Min}}"></div>
                        </div >
                        </div>
                        <div ng-if="useditem.used[0].procentSms!=''">
                        <div class="chart-ttl">כמה צרכת SMS ?</div>
                        <div class="usage_row">
                            <div class="donut" data-value="{{ useditem.used[0].procentSms }}" data-text="#0B69BA" data-pct="{{useditem.used[0].SMS}}"></div>
                        </div>
                        </div>
                    </div>
                </div>

            </div>

        </section>
        <section class="payment visibledevice" id="payment">
            <div class=" wrp-cnt visibledesktop">
                <label class="hdr use-txt hdr-r"> פירוט חיובים</label>
                <div class="msgbox-wrp">
                    <a ng-if="billselected.msgbox.length > 0 " ng-click="showMSGbox()" href="#msgbox">
                        <div ng-class="{true:'count-1', false:'count-2'}[billselected.msgbox.length < 10]" data-msgvalue="{{billselected.msgbox.length}}">{{ billselected.msgbox.length}} </div>
                        <div ng-class="{true:'msgbox-m-1', false:'msgbox-m-2'}[billselected.msgbox.length < 10]"></div>

                    </a>
                </div>
            </div>
            <div class="bill_parts ">
                <div class="bill_data">
                    <ul >
                        <li ng-repeat="item in billselected.bill_parts"  class="payline">
                            <div ng-if="item.services.length == null">
                                <a class="part1" data-part="{{ $index }}">
                                    <div class="item_data">
                                        <!--div  class="itemPl">
                                            <label class="item-sml"><iplus class="minus" ></iplus></label>
                                        </div-->
                                        <div class="paym-row-sh">
                                            <div  class="item">
                                                <div class="img-wrp">
                                                    <div ng-class="{ {{item.paycode}}: true }"></div>
                                                </div>
                                            </div>
                                            <div class="item_big">
                                                <label  class="title"> {{ item.bill_part_desc }}</label>
                                                <label  class="subtitle">{{ item.bill_part_msg }}</label>
                                            </div>

                                        </div>
                                        <div class="item_m">
                                            <label  class="item_total bld">{{ item.bill_part_total }}  &#8362; </label>
                                            <div ng-if="item.submsg!='-1'" class="item-vsml " >
                                                <info class="i-info active" ng-click="showI($index)">i</info>
                                                <idiv class="i-popup hide ">
                                                    <ispan class="i-popup-content"></ispan>
                                                </idiv>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>

                            <div ng-if="item.services.length > 0">

                                <a class="part1" data-part="{{ $index }}">
                                    <div class="item_data">
                                        <div  class="itemPl" ng-click="toggleDisplay($index)">
                                            <label class="item-sml"><iplus class="plus" ></iplus></label>
                                        </div>
                                        <div class="paym-row">
                                            <div  class="item">
                                                <div class="img-wrp">
                                                    <div ng-class="{ {{item.paycode}}: true }"></div>
                                                </div>
                                            </div>
                                            <div class="item_big">
                                                <label  class="title"> {{ item.bill_part_desc }}</label>
                                                <label  class="subtitle">{{ item.bill_part_msg }}</label>
                                            </div>
                                        </div>
                                        <div class="item_m">
                                            <label  class="item_total bld">{{ item.bill_part_total }}  &#8362; </label>
                                            <div ng-if="item.submsg!='-1'" class="item-vsml " >
                                                <info class="i-info active" ng-click="showI($index)">i</info>
                                                <idiv class="i-popup hide ">
                                                    <ispan class="i-popup-content"></ispan>
                                                </idiv>
                                            </div>
                                        </div>

                                    </div>
                                </a>
                                <secdiv class="part2 hide">
                                    <div class="part2_data ">
                                        <div class="data header">
                                            <div class="item_l title ">תיאור</div>
                                            <div class="item_s title ">דקות/ יחידות</div>
                                            <div class="item_s title ">סה"כ לתשלום</div>
                                        </div>
                                        <div class="data data_row"  ng-repeat="servitem in item.services">
                                            <div class="item_l ">{{ servitem.name }}</div>
                                            <div class="item_s ">{{ servitem.rate }}</div>
                                            <div class="item_s cntr bld">{{ servitem.total }}</div>
                                        </div>
                                    </div>
                                    <div class="data-total-cnt">
                                        <div class="data_total">
                                            <div class="item_l ">סה''כ {{ item.bill_part_desc }} כולל מע''מ</div>
                                            <div class="item_s cntr">{{ item.bill_part_total }}</div>
                                        </div>
                                    </div>
                                </secdiv>
                            </div>
                        </li>

                    </ul>
                </div>
            </div>
        </section>
    </section>
    <section class="main-content ">

        <section class="add_act visibledevice" id="add_act">
            <div class="use-txt hdr-c visibledesktop "> פעולות נוספות </div>
            <section class="act-content">
                <ul>
                    <li class="acts">
                        <a href=#" >
                            <div class="act " >
                                <div class="icon img-wrp icon_det"></div>
                                <label class="icon"> עדכון פרטים אישיים</label></div>
                        </a>
                    </li>
                    <li  class="acts"><a href=#">
                        <div class="act ">
                            <div class="icon img-wrp icon_paym"></div>
                            <label class="icon">עדכון אמצעי תשלום</label></div>

                    </a></li>
                    <li  class="acts"><a href=#">
                        <div class="act ">
                            <div class="icon img-wrp icon_masl"></div>
                            <label class="icon">עדכון פרטי המסלול</label></div>
                    </a></li>
                </ul>
            </section>

        </section>


        <section class="total_bill all_total">
            <div ng-if="billselected.subsum.length > 0" class="payment_total blue">
                <div class="payment_total_row ">
                    <span class="payment_total_desc">הפרשי עיגול </span>
                    <span class="payment_total_v">{{ billselected.subsum }} &#8362; </span>
                </div>
            </div>

            <div class="payment_total dark_blue">

                <div class="payment_total_rowT ">

                    <div class=" payment_total_desc ">
                        סה''כ חשבונית נוכחית
                        <br/>
                        כולל מע''מ
                    </div>
                    <div class="payment_total_v">
                        <div class="payment_total_vT">
                            <span class="  spr ">{{ billselected.total }} &#8362;</span>
                            <span class="small-v">
                            <label class="lineAft" ></label>
                        </span>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </section>

</article>

<div bill-data="bill-parts"  style="display: none" id="bill_total">
  {
	"bill": [
		{
			"index": "0",
			"subsciber": "all users",
			"total": " 221.73",
			"subsum": "1.23",
			"bill_parts": [
				{
					"bill_part_total": "221.72",
					"bill_part_desc": "const pay",
					"bill_part_msg": "const",
					"paycode": "pcn",
					"submsg": "abc"
				},
				{
					"bill_part_total": "0.00",
					"bill_part_desc": "not const",
					"bill_part_msg": "not const",
					"paycode": "pch",
					"submsg": "-1"
				}
			],
			"service_usageALL": [
				{
					"sub": "0503492002",
					"in": "in",
					"used": [
						{
							"GB": "ddd",
							"procentGB": "31",
							"Min": "minutes",
							"procentMin": "4",
							"SMS": "SMS",
							"procentSms": ""
						}
					]
				},
				{
					"sub": "0504482002",
					"in": "in",
					"used": [
						{
							"GB": "internet",
							"procentGB": "3",
							"Min": "minutes",
							"procentMin": "10",
							"SMS": "SMS",
							"procentSms": "0"
						}
					]
				},
				{
					"sub": "0504492002",
					"in": "in",
					"used": [
						{
							"GB": "internet",
							"procentGB": "7",
							"Min": "minutes",
							"procentMin": "6",
							"SMS": "SMS",
							"procentSms": ""
						}
					]
				},
				{
					"sub": "0509500767",
					"in": "in",
					"used": [
						{
							"GB": "internet",
							"procentGB": "0",
							"Min": "minutes",
							"procentMin": "5",
							"SMS": "SMS",
							"procentSms": ""
						}
					]
				}
			],
			"msgbox": [
				{
					"msg": "some thing must be here",
					"date": "NO_DATE",
					"title": ""
				}
			]
		}
	]
}

</div>

<script type="text/javascript">
    angular.module('myBill', []);
</script>
<!--script src="js/controller/CustomerDetails.js"></script-->


<!--script src="js/charts/linechart.js"></script>
<script src="js/charts/donutchart.js"></script--->
<script src="js/main.js"></script>
<script src="js/charts/chartservice.js"></script>
<script src="js/controllers/BillDetails.js"></script>
</body>
</html>
